<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BiharBites. - Asli Bihar ka Swaad</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: {
                        amber: { 50: '#fffbeb', 100: '#fef3c7', 600: '#d97706', 700: '#b45309', 800: '#92400e', 900: '#78350f' },
                        green: { 50: '#f0fdf4', 600: '#16a34a', 700: '#15803d' }
                    }
                }
            }
        }
    </script>

    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
    
    <style>
        /* Custom Styles (Kept for completeness) */
        .loader { border: 3px solid #f3f3f3; border-top: 3px solid #b45309; border-radius: 50%; width: 20px; height: 20px; animation: spin 1s linear infinite; display: inline-block; }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
        .checkmark-circle { width: 80px; height: 80px; position: relative; display: inline-block; vertical-align: top; margin-bottom: 20px; }
        .checkmark-circle .background { width: 80px; height: 80px; border-radius: 50%; background: #16a34a; position: absolute; }
        .checkmark-circle .checkmark { border-radius: 5px; }
        .checkmark-circle .checkmark.draw:after { animation-delay: 100ms; animation-duration: 1s; animation-timing-function: ease; animation-name: checkmark; transform: scaleX(-1) rotate(135deg); }
        .checkmark-circle .checkmark:after { opacity: 1; height: 40px; width: 20px; transform-origin: left top; border-right: 4px solid white; border-top: 4px solid white; content: ''; left: 20px; top: 40px; position: absolute; }
        @keyframes checkmark { 0% { height: 0; width: 0; opacity: 1; } 20% { height: 0; width: 20px; opacity: 1; } 40% { height: 40px; width: 20px; opacity: 1; } 100% { height: 40px; width: 20px; opacity: 1; } }
    </style>
</head>
<body class="bg-amber-50 dark:bg-gray-900 text-gray-800 dark:text-gray-200 transition-colors duration-300 font-sans">

    <script>
        const CONFIG = {
            PHONE_NUMBER: "919470270148", 
            GAS_WEBHOOK: "YOUR_GAS_WEBAPP_URL_HERE" 
        };
    </script>

    <nav class="sticky top-0 z-50 bg-white/90 dark:bg-gray-900/90 backdrop-blur-md border-b border-gray-200 dark:border-gray-800 shadow-sm">
        <div class="max-w-6xl mx-auto px-4 py-3 flex justify-between items-center">
            <a href="#" class="flex items-center gap-2 group">
                <div class="w-10 h-10 bg-amber-700 rounded-full flex items-center justify-center text-white font-bold text-xl">B</div>
                <div>
                    <h1 class="text-xl font-bold text-amber-800 dark:text-amber-400">BiharBites</h1>
                    <p class="text-[10px] text-gray-600 dark:text-gray-400 uppercase tracking-wider">Bihar's Finest</p>
                </div>
            </a>

            <div class="flex items-center gap-4 text-sm font-medium">
                <a href="#products" class="hidden sm:block hover:text-amber-700">Menu</a>
                <a href="#about-us" class="hidden sm:block hover:text-amber-700">About Us</a>
                
                <a href="#products" class="bg-amber-700 text-white px-4 py-2 rounded-lg hover:bg-amber-800 transition">Start Order</a> 
                
                <button id="theme-toggle" class="p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-800">‚òÄÔ∏è</button>
            </div>
        </div>
    </nav>

    <main class="max-w-6xl mx-auto p-4 space-y-20 pb-20">

        <section id="hero-section" class="pt-10 flex flex-col-reverse md:flex-row items-center gap-10">
            <div class="flex-1" data-aos="fade-right">
                <span class="text-amber-600 font-bold tracking-widest text-xs uppercase bg-amber-100 px-2 py-1 rounded">Fresh from Bihar</span>
                <h1 class="text-5xl font-extrabold mt-4 text-gray-900 dark:text-white leading-tight">
                    Winter's Favorite <br> <span class="text-amber-700">Crunchy Tilkut</span>
                </h1>
                <p class="mt-4 text-lg text-gray-600 dark:text-gray-300">
                    Hand-beaten, small-batch sweets made with pure jaggery and sesame. The authentic taste of Kaimur(Bhabua) delivered to your doorstep.
                </p>
                <div class="mt-8 flex gap-3">
                    <a href="#products" class="px-8 py-3 bg-amber-700 text-white rounded-xl font-semibold shadow-lg hover:bg-amber-800 hover:-translate-y-1 transition-all">
                        See Menu
                    </a>
                </div>
            </div>
            <div class="flex-1" data-aos="fade-left">
                <img src="images/Dahi-Chura-and-Tilkut-1.jpg.webp" 
                     alt="Tilkut" class="w-full h-80 object-cover rounded-3xl shadow-2xl rotate-2 hover:rotate-0 transition duration-500">
            </div>
        </section>

        <section id="products" class="scroll-mt-24">
            <div class="text-center mb-10" data-aos="fade-up">
                <h2 class="text-3xl font-bold text-gray-900 dark:text-white">Our Best Products</h2>
                <p class="text-gray-500 dark:text-gray-400 mt-2">Pick your favorite pack to place the order</p>
            </div>

            <div id="product-grid" class="grid sm:grid-cols-2 md:grid-cols-3 gap-8">
                </div>
        </section>

        <section id="about-us" class="scroll-mt-24 max-w-4xl mx-auto">
            <div class="mt-16" data-aos="fade-up">
                <h3 class="text-2xl font-bold text-center mb-8">Why Our Tilkut?</h3>
                <div class="grid md:grid-cols-3 gap-6 text-center">
                    <div class="p-6 bg-white dark:bg-gray-800 rounded-2xl shadow-sm hover:shadow-md transition">
                        <div class="text-4xl mb-3">üî®</div>
                        <h4 class="font-bold text-lg">Hand Beaten</h4>
                        <p class="text-sm text-gray-500 dark:text-gray-400">Authentic 'Kuta hua' texture, not machine made.</p>
                    </div>
                    <div class="p-6 bg-white dark:bg-gray-800 rounded-2xl shadow-sm hover:shadow-md transition">
                        <div class="text-4xl mb-3">üçØ</div>
                        <h4 class="font-bold text-lg">Pure Gur</h4>
                        <p class="text-sm text-gray-500 dark:text-gray-400">Made with organic jaggery, naturally healthy.</p>
                    </div>
                    <div class="p-6 bg-white dark:bg-gray-800 rounded-2xl shadow-sm hover:shadow-md transition">
                        <div class="text-4xl mb-3">üöö</div>
                        <h4 class="font-bold text-lg">Fresh Delivery</h4>
                        <p class="text-sm text-gray-500 dark:text-gray-400">Dispatched within 24 hours of making.</p>
                    </div>
                </div>
            </div>
        </section>

        <section id="order-section" class="scroll-mt-24 max-w-2xl mx-auto hidden">
            <div class="bg-white dark:bg-gray-800 rounded-3xl shadow-xl border border-gray-100 dark:border-gray-700 overflow-hidden" data-aos="zoom-in">
                
                <div class="bg-amber-700 p-6 text-white text-center">
                    <h2 class="text-2xl font-bold">Place Your Order</h2>
                    <p class="opacity-90 text-sm">You selected: <span id="selected-product-name" class="font-bold"></span></p>
                </div>

                <div class="p-8">
                    <form id="orderForm" onsubmit="handleOrderSubmit(event)" class="space-y-5">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Selected Item</label>
                            <input type="text" id="form-product" name="product" readonly 
                                   class="w-full p-3 bg-gray-100 dark:bg-gray-700 border-none rounded-lg font-semibold text-gray-700 dark:text-gray-200">
                        </div>

                        <div class="grid grid-cols-2 gap-4">
                            <div>
                                <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Quantity (in Kg/Pkt)</label>
                                <input type="number" name="quantity" value="1" min="1" class="w-full p-3 border dark:border-gray-600 rounded-lg dark:bg-gray-900">
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Phone</label>
                                <input type="tel" name="phone" required placeholder="9876543210" class="w-full p-3 border dark:border-gray-600 rounded-lg dark:bg-gray-900">
                            </div>
                        </div>

                        <div>
                            <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Full Name</label>
                            <input type="text" name="name" required placeholder="Enter your name" class="w-full p-3 border dark:border-gray-600 rounded-lg dark:bg-gray-900">
                        </div>

                        <div>
                            <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Address with Mobile No</label>
                            <textarea name="address" required rows="2" placeholder="Full delivery address with Pincode" class="w-full p-3 border dark:border-gray-600 rounded-lg dark:bg-gray-900"></textarea>
                        </div>

                        <button type="submit" id="btn-submit" 
                                class="w-full bg-amber-700 hover:bg-amber-800 text-white font-bold py-4 rounded-xl shadow-lg transition-transform active:scale-95">
                            Confirm Order
                        </button>
                    </form>

                    <div id="success-view" class="hidden text-center py-10">
                        <div class="checkmark-circle">
                            <div class="background"></div>
                            <div class="checkmark draw"></div>
                        </div>
                        <h3 class="text-2xl font-bold text-gray-900 dark:text-white mt-4">Order Successful!</h3>
                        <p class="text-gray-500 mt-2">Thank you, <span id="success-name" class="font-bold">User</span>. Your details are saved.</p>
                        <p class="text-gray-500 text-sm">We are opening WhatsApp to finalize payment and shipping...</p>
                        
                        <button onclick="resetOrderForm()" class="mt-8 text-amber-700 font-semibold hover:underline text-sm">
                            Place Another Order
                        </button>
                    </div>

                </div>
            </div>
        </section>

    </main>

    <footer class="text-center py-6 text-gray-500 text-sm border-t dark:border-gray-800">
        &copy; 2025 BiharBites | Authentic Bihari Sweets
    </footer>

    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>

    <script>
        // === DATA ===
        const PRODUCTS = [
            { id: 1, name: "White Tilkut (500g)", price: 199, img: "images/tilkut.webp", desc: "Crispy & authentic." },
            { id: 2, name: "Gud Tilkut (500g)", price: 219, img: "images/lai.jpg.webp", desc: "Rich jaggery flavor." },
            { id: 3, name: "Sankranti Combo", price: 349, img: "images/dhunda.webp", desc: "Tilkut + Dhunda + Chura." }
        ];

        // === INIT ===
        document.addEventListener('DOMContentLoaded', () => {
            AOS.init();
            renderProducts();
            initTheme();
        });

        // === RENDER PRODUCTS ===
        function renderProducts() {
            const grid = document.getElementById('product-grid');
            grid.innerHTML = PRODUCTS.map(p => `
                <div class="bg-white dark:bg-gray-800 rounded-2xl shadow-sm hover:shadow-xl transition-all border border-gray-100 dark:border-gray-700 group overflow-hidden" data-aos="fade-up">
                    <img src="${p.img}" alt="${p.name}" class="w-full h-48 object-cover group-hover:scale-105 transition duration-500">
                    <div class="p-5">
                        <h3 class="font-bold text-lg dark:text-white">${p.name}</h3>
                        <p class="text-sm text-gray-500 dark:text-gray-400 mt-1">${p.desc}</p>
                        <div class="flex justify-between items-center mt-4">
                            <span class="text-lg font-bold text-amber-700">‚Çπ${p.price}</span>
                            <button onclick="selectProduct('${p.name}')" class="bg-amber-700 text-white px-4 py-2 rounded-lg text-sm font-bold hover:bg-amber-800 transition">
                                Buy Now
                            </button>
                        </div>
                    </div>
                </div>
            `).join('');
        }

        // === ACTIONS (Order Logic) ===
        function selectProduct(name) {
            // 1. Prefill the product name
            document.getElementById('form-product').value = name;
            document.getElementById('selected-product-name').textContent = name;
            
            // 2. Show the Order Section
            document.getElementById('order-section').classList.remove('hidden');
            
            // 3. Smooth scroll to the Order Section
            document.getElementById('order-section').scrollIntoView({ behavior: 'smooth' });
        }

        async function handleOrderSubmit(e) {
            e.preventDefault();
            const form = document.getElementById('orderForm');
            const btn = document.getElementById('btn-submit');
            
            const prodName = document.getElementById('form-product').value;
            if(!prodName) return alert("Please select a product first."); // Safety check

            // 1. Loading UI
            const originalText = btn.innerHTML;
            btn.innerHTML = `<span class="loader"></span> Processing...`;
            btn.disabled = true;

            const formData = new FormData(form);
            const data = Object.fromEntries(formData.entries());

            try {
                // 2. Send Data (Optional: If GAS URL is set)
                if(!CONFIG.GAS_WEBHOOK.includes("YOUR_GAS")) {
                     await fetch(CONFIG.GAS_WEBHOOK, {
                        method: 'POST',
                        body: JSON.stringify({...data, timestamp: new Date()})
                    });
                } else {
                    await new Promise(r => setTimeout(r, 1500)); 
                }

                // 3. Show SUCCESS UI
                showSuccessView(data.name);

                // 4. Open WhatsApp after short delay
                setTimeout(() => {
                    const msg = `New Order:\nName: ${data.name}\nItem: ${data.product}\nQty: ${data.quantity}\nAddr: ${data.address}`;
                    window.open(`https://wa.me/${CONFIG.PHONE_NUMBER}?text=${encodeURIComponent(msg)}`, '_blank');
                }, 2000);

            } catch (err) {
                console.error(err);
                alert("Order save failed, opening WhatsApp for confirmation.");
                // Fallback
                const msg = `Order (Manual):\nItem: ${data.product}`;
                window.open(`https://wa.me/${CONFIG.PHONE_NUMBER}?text=${encodeURIComponent(msg)}`, '_blank');
                btn.innerHTML = originalText;
                btn.disabled = false;
            }
        }

        function showSuccessView(name) {
            document.getElementById('orderForm').classList.add('hidden');
            document.getElementById('success-view').classList.remove('hidden');
            document.getElementById('success-name').textContent = name;
            
            document.getElementById('order-section').scrollIntoView({ behavior: 'smooth', block: 'center' });
        }

        function resetOrderForm() {
            document.getElementById('orderForm').reset();
            document.getElementById('form-product').value = "";
            document.getElementById('btn-submit').innerHTML = "Confirm Order";
            document.getElementById('btn-submit').disabled = false;
            
            document.getElementById('success-view').classList.add('hidden');
            document.getElementById('orderForm').classList.remove('hidden');
            
            // Hide the order section after reset
            document.getElementById('order-section').classList.add('hidden');
            document.getElementById('products').scrollIntoView({ behavior: 'smooth' });
        }

        // === THEME TOGGLE ===
        function initTheme() {
            const btn = document.getElementById('theme-toggle');
            if (localStorage.theme === 'dark' || (!('theme' in localStorage) && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
                document.documentElement.classList.add('dark');
                btn.textContent = 'üåô';
            } else {
                btn.textContent = '‚òÄÔ∏è';
            }
            btn.addEventListener('click', () => {
                document.documentElement.classList.toggle('dark');
                localStorage.theme = document.documentElement.classList.contains('dark') ? 'dark' : 'light';
                btn.textContent = localStorage.theme === 'dark' ? 'üåô' : '‚òÄÔ∏è';
            });
        }
    </script>
</body>

</html>
